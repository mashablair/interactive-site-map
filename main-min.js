!function($){"use strict";function e(){function e(){V=$("[data-levelnum]").length,z.addClass("levels--open levels--selected-"+x),M.navigateTabs(),r.addClass("active-tab"),E=C.text(),C.text("Floor "+x).css("color","#04b5fd"),m.removeClass("levelnav--hidden"),o(),F=!0}function o(){console.log("selectedLevel is "+x),console.log("levelsTotal is "+V),1===x?_.addClass("boxbutton--disabled"):_.removeClass("boxbutton--disabled"),x===V?T.addClass("boxbutton--disabled"):T.removeClass("boxbutton--disabled")}function L(){if(!F)return!1;F=!1,z.removeClass("levels--open levels--selected-"+x),$(".level--current").removeClass("level--current"),m.addClass("levelnav--hidden"),M.navigateTabs(),d.addClass("active-tab"),C.text(E).css("color","")}function y(e){if(!F)return!1;P=!0,console.log("selectedLevel is "+x);var n=x;console.log("prevSelectedLevel "+n),console.log(D);var t=$(".level--"+x);if(console.log(t),"Up"===e&&n>1)--x,console.log("selectedLevel-- is "+x);else{if(!("Down"===e&&n<V))return P=!1,!1;++x,console.log("selectedLevel++ is "+x)}o(),t.addClass("level--moveOut"+e);var i=x;console.log("nextLevelNum is "+i);var s=$(".level--"+i);console.log(s),s.addClass("level--current"),t.removeClass("level--moveOut"+e),setTimeout(function(){t.removeClass("level--current")},60),z.removeClass("levels--selected-"+n),z.addClass("levels--selected-"+x),C.text("Floor "+x),P=!1}t=$("#more-filters"),i=$(".nav-icon"),s=$("#more-filters-btn"),a=$(".more-filters-container"),l=$("#clear-all-filters"),c=$("#interactive-site-map"),v=$(".first-view-btn"),d=$(".second-view-btn"),r=$(".second-expanded-view-btn"),p=$(".third-view-btn"),u=$(".views"),f=$(".first-view svg"),w=null,b=$(".link-for-blocks"),h=$(".first-view .link-for-blocks"),g=$(".back-btn"),C=$(".second-view-header"),k=$(".level--1"),m=$(".levelnav"),T=$(".levelnav__button--up"),_=$(".levelnav__button--down"),x=null,V=null,F=!1,P=!1,S=null,t.find(":focusable").attr("tabindex","-1"),$('[data-toggle="popover"]').popover("show"),n("first-view"),$(".first-view h2").on("click",function(){M.showPopovers()}),$(window).resize(function(){M.hidePopovers(),clearTimeout(window.resizedFinished),window.resizedFinished=setTimeout(function(){M.showPopovers()},800)});var M={navigateTabs:function(){i.removeClass("active-tab"),$(this).addClass("active-tab")},splitViewMode:function(){u.addClass("split-view"),M.repositionPopovers()},noSplitViewMode:function(){u.removeClass("split-view"),M.repositionPopovers()},navigateToFirstView:function(){c.removeClass("view-change-1 view-change-2"),M.showPopovers(),M.navigateTabs(),v.addClass("active-tab"),$(window).width()>=1400&&M.noSplitViewMode()},navigateToSecondView:function(){c.addClass("view-change-1").removeClass("view-change-2"),M.navigateTabs(),d.addClass("active-tab"),$(window).width()>=1400&&M.splitViewMode()},navigateToSecondExpandedView:function(){c.addClass("view-change-1").removeClass("view-change-2"),M.navigateTabs(),r.addClass("active-tab"),k.trigger("click")},navigateToThirdView:function(){c.addClass("view-change-1 view-change-2"),M.navigateTabs(),p.addClass("active-tab"),$(".second-view").addClass("expanded-view-with-detail")},showPopovers:function(){h.popover("show")},hidePopovers:function(){h.popover("hide")},repositionPopovers:function(){this.hidePopovers(),setTimeout(function(){M.showPopovers()},500)},expandFilters:function(){t.hasClass("open")?(a.animate({opacity:0},200,function(){t.removeClass("open"),M.showPopovers()}),$(this).text("+ More Filters"),t.find(":focusable").attr("tabindex","-1")):(t.addClass("open").find(":focusable").attr("tabindex","0").eq(0).focus(),$(this).text("- Less Filters"),a.delay(200).animate({opacity:1},200),M.hidePopovers())},resetFilters:function(){$("#map-header, #more-filters").find(":input",":checkbox").val("").prop("checked",!1).prop("selected",!1),$("#any-ba").prop("checked",!0)}};i.on("click",M.navigateTabs),s.on("click",M.expandFilters),l.on("click",M.resetFilters),f.on("click",M.splitViewMode),v.on("click",M.navigateToFirstView),d.on("click",function(){F?L():M.navigateToSecondView()}),r.on("click",M.navigateToSecondExpandedView),p.on("click",M.navigateToThirdView),b.on({hover:function(){var e=$(this).attr("id"),o=e.substr(e.length-1);$("#popover"+o).find(".popover-title").addClass("in-focus")},mouseout:function(){$(".first-view-popovers .popover-title").removeClass("in-focus")}}),b.on("click",M.navigateToSecondView),$(".link-for-blocks, .first-view-popovers .popover-title, .first-view-popovers .popover-availability").on("click",M.navigateToSecondView),g.on("click",function(){F?L():M.navigateToFirstView()});var z=$(".levels"),D=$(".level"),E;D.on("click",function(){console.log($(this)),$(this).addClass("level--current"),x=parseInt($(this).attr("data-levelnum"),10),console.log("selectedLevel is "+x),e()}),T.on("click",function(){y("Down")}),_.on("click",function(){y("Up")}),$("#place-to-click").on("click",function(){$(".svg-container").addClass("svg-container--content-open"),$(".content").addClass("content--open"),$(".content__item").addClass("content__item--current"),$(".content__button").removeClass("content__button--hidden")}),$(".content__button").on("click",function(){$(".svg-container").removeClass("svg-container--content-open"),$(".content").removeClass("content--open"),$(".content__item").removeClass("content__item--current"),$(".content__button").addClass("content__button--hidden")})}function o(){}function n(e){S=$("."+e).find(".popover").addClass("first-view-popovers"),b.each(function(e){$(this).attr("id","link"+e)}),S.each(function(e){$(this).attr("id","popover"+e)})}var t,i,s,a,l,c,v,d,r,p,u,f,w,b,h,g,C,m,k,T,_,x,V,F,P,S;$(document).ready(e)}(jQuery);