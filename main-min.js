!function($){"use strict";function e(){i=$("#more-filters"),a=$(".nav-icon"),o=$("#more-filters-btn"),l=$(".more-filters-container"),n=$("#clear-all-filters"),c=$("#apply-filters-btn"),d=$(".filter-selections"),v=$("#filter-max-rent"),p=$("#filter-bathrooms"),h=$("#filter-available-date"),f=$("#interactive-site-map"),b=$(".first-view-btn"),w=$(".second-view-btn"),C=$(".second-expanded-view-btn"),m=$(".third-view-btn"),k=$(".views"),g=$(".first-view"),_=$(".second-view"),x=$(".first-view svg"),T=$(".link-for-blocks"),S=$(".first-view .link-for-blocks"),F=$(".back-btn"),y=$(".second-view-header"),V=$(".level--1"),L=$(".levelnav"),P=$(".levelnav__button--up"),U=$(".levelnav__button--down"),D=$(".levelnav__button--all-levels"),z=!1,A=!1,I=$(".levels"),O=$(".level"),q=$(".available-unit"),i.find(":focusable").attr("tabindex","-1"),d.hide();var e=location.href;console.log(e),$('[data-toggle="popover"]').popover("show"),s("first-view"),$(".first-view h2").on("click",function(){t.showPopovers()}),$(window).resize(function(){t.hidePopovers(),clearTimeout(window.resizedFinished),window.resizedFinished=setTimeout(function(){t.showPopovers()},800)}),$("#unitDetailTabs a").click(function(e){e.preventDefault(),$(this).tab("show")}),$(".carousel").carousel();var t={navigateTabs:function(){a.removeClass("active-tab")},navigateToFirstView:function(){t.hidePopovers(),f.removeClass("view-change-1 view-change-2"),t.showPopovers(),t.navigateTabs(),b.addClass("active-tab"),setTimeout(function(){t.showPopovers()},800)},navigateToSecondView:function(){f.hasClass("view-change-1")||(f.addClass("view-change-1").removeClass("view-change-2"),t.navigateTabs(),w.addClass("active-tab"),t.hidePopovers(),setTimeout(function(){t.showPopovers()},800))},navigateToSecondExpandedView:function(){f.addClass("view-change-1").removeClass("view-change-2"),t.navigateTabs(),C.addClass("active-tab"),V.trigger("click"),$('[data-toggle="popover"]').popover("show")},navigateToThirdView:function(){f.addClass("view-change-1 view-change-2"),t.navigateTabs(),m.addClass("active-tab"),_.addClass("expanded-view-with-detail")},showFirstStack:function(){_.removeClass("second-view__part2 second-view__part3"),_.addClass("second-view__part1"),U.addClass("boxbutton--disabled"),P.removeClass("boxbutton--disabled"),g.addClass("first-stack-displayed"),g.removeClass("second-stack-displayed third-stack-displayed"),y.text("Floors 1 - 4 (Lower Third)")},showSecondStack:function(){_.removeClass("second-view__part1 second-view__part3"),_.addClass("second-view__part2"),P.removeClass("boxbutton--disabled"),U.removeClass("boxbutton--disabled"),g.addClass("second-stack-displayed"),g.removeClass("first-stack-displayed third-stack-displayed"),y.text("Floors 5 - 8 (Middle Third)")},showThirdStack:function(){_.removeClass("second-view__part1 second-view__part2"),_.addClass("second-view__part3"),P.addClass("boxbutton--disabled"),U.removeClass("boxbutton--disabled"),g.addClass("third-stack-displayed"),g.removeClass("first-stack-displayed second-stack-displayed"),y.text("Floors 9 - 12 (Upper Third)")},showPopovers:function(){S.popover("show")},hidePopovers:function(){S.popover("hide")},showLevel:function(){N=$("[data-levelnum]").length,I.addClass("levels--open levels--selected-"+M),t.navigateTabs(),C.addClass("active-tab"),j=y.text();var e=$(".level--current").attr("data-floor");y.text("Floor "+e).css("color","#04b5fd"),F.addClass("hidden"),D.removeClass("hidden"),t.setNavigationState(),z=!0},setNavigationState:function(){1===M?U.addClass("boxbutton--disabled"):U.removeClass("boxbutton--disabled"),M===N?P.addClass("boxbutton--disabled"):P.removeClass("boxbutton--disabled")},showStackedLevels:function(){if(!z)return!1;z=!1,I.removeClass("levels--open levels--selected-"+M),$(".level--current").removeClass("level--current"),F.removeClass("hidden"),D.addClass("hidden"),t.navigateTabs(),w.addClass("active-tab"),_.hasClass("second-view__part1")?y.text("Floors 1 - 4 (Lower Third)"):_.hasClass("second-view__part2")?y.text("Floors 5 - 8 (Middle Third)"):_.hasClass("second-view__part3")&&y.text("Floors 9 - 12 (Upper Third)"),y.css("color","")},navigate:function(e){if(!z)return!1;A=!0,console.log("selectedLevel is "+M);var s=M;console.log("prevSelectedLevel "+s),console.log(O);var i=$(".level--"+M);if(console.log(i),"Up"===e&&s>1)--M,console.log("selectedLevel-- is "+M);else{if(!("Down"===e&&s<N))return A=!1,!1;++M,console.log("selectedLevel++ is "+M)}t.setNavigationState(),i.addClass("level--moveOut"+e);var a=M;console.log("nextLevelNum is "+a);var o=$(".level--"+a);console.log(o),o.addClass("level--current"),i.removeClass("level--moveOut"+e),setTimeout(function(){i.removeClass("level--current")},60),I.removeClass("levels--selected-"+s),I.addClass("levels--selected-"+M),y.text("Floor "+M),A=!1},expandFilters:function(){i.hasClass("open")?(l.animate({opacity:0},200,function(){i.removeClass("open").addClass("hidden-from-interaction"),t.showPopovers()}),o.text("+ More Filters"),i.find(":focusable").attr("tabindex","-1"),u>0&&d.slideDown()):(i.addClass("open").removeClass("hidden-from-interaction").find(":focusable").attr("tabindex","0").eq(0).focus(),$(this).text("- Less Filters"),l.delay(200).animate({opacity:1},200),t.hidePopovers(),d.slideUp())},resetFilters:function(){i.find(":input",":checkbox").val("").prop("checked",!1).prop("selected",!1),$("#any-ba").prop("checked",!0),d.slideUp().html(""),u=0},applyFilters:function(){t.expandFilters(),d.slideDown(300).html(""),t.buildActiveFiltersList()},buildActiveFiltersList:function(){r='<ul class="filter-selections__ul flex-container">',u=0,""!==v.val()&&(r+="<li>Max Rent: $"+v.val()+' <button class="delete-filter-btn delete-filter-btn__max-rent transparent-btn"><i class="iconm-cancel-circle2 close-tag-icon"></i></button></li>',u++),"all"!==p.val()&&(r+="<li>"+p.val()+' <button class="delete-filter-btn delete-filter-btn__bathrooms transparent-btn"><i class="iconm-cancel-circle2 close-tag-icon"></i></button></li>',u++),"all"!==h.val()&&(r+="<li> Move In Date: "+h.find("option:selected").text()+' <button class="delete-filter-btn delete-filter-btn__move-date transparent-btn"><i class="iconm-cancel-circle2 close-tag-icon"></i></button></li>',u++),i.find("input[type=checkbox]").each(function(){$(this).is(":checked")&&(console.log($(this).val()),r+="<li>"+$(this).val()+' <button class="delete-filter-btn delete-filter-btn__checkbox transparent-btn"><i class="iconm-cancel-circle2 close-tag-icon"></i></button></li>',u++)}),r+="</ul>",0===u?(r=void 0,d.append('<button id="close-filter-msg" class="transparent-btn m-b-sm"><i class="iconm-cancel-circle2 close-tag-icon"></i></button><p class="m-b-none blue text-uppercase" style="line-height:29px">You did not select any filters.</p>').css("display","flex")):d.append(r)}};a.on("click",t.navigateTabs),o.on("click",t.expandFilters),n.on("click",function(){t.resetFilters(),t.expandFilters()}),c.on("click",t.applyFilters),d.on("click","#close-filter-msg",function(){d.slideUp().html("")}),d.on("click",".delete-filter-btn",function(){if($(this).parent().remove(),u--,0===u&&(d.slideUp().html(""),t.resetFilters()),$(this).hasClass("delete-filter-btn__checkbox")){var e=$(this).parent().text();i.find(":checkbox[value='"+$.trim(e)+"']").prop("checked",!1)}else $(this).hasClass("delete-filter-btn__max-rent")?v.val(""):$(this).hasClass("delete-filter-btn__bathrooms")?p.find("option:selected").prop("selected",!1):$(this).hasClass("delete-filter-btn__move-date")&&h.find("option:selected").prop("selected",!1)}),b.on("click",t.navigateToFirstView),w.on("click",function(){z?t.showStackedLevels():t.navigateToSecondView()}),C.on("click",t.navigateToSecondExpandedView),m.on("click",t.navigateToThirdView),T.on({hover:function(){var e=$(this).attr("id"),t=e.substr(e.length-1);$("#popover"+t).find(".popover-title").addClass("in-focus")},mouseout:function(){$(".first-view-popovers .popover-title").removeClass("in-focus")}}),T.on("click",function(){z&&t.showStackedLevels(),"link0"===$(this).attr("id")?t.showThirdStack():"link1"===$(this).attr("id")&&t.showSecondStack(),"link2"===$(this).attr("id")&&t.showFirstStack(),t.navigateToSecondView()}),$(".first-view-popovers").on("click",function(){"popover0"===$(this).attr("id")?t.showThirdStack():"popover1"===$(this).attr("id")&&t.showSecondStack(),"popover2"===$(this).attr("id")&&t.showFirstStack(),z&&t.showStackedLevels(),t.navigateToSecondView()}),F.on("click",function(){z?t.showStackedLevels():$(window).width()>=1400?(t.navigateToSecondView(),_.removeClass("expanded-view-with-detail")):(t.navigateToFirstView(),_.removeClass("expanded-view-with-detail"))}),O.on("click",function(){$(this).addClass("level--current"),M=parseInt($(this).attr("data-levelnum"),10),console.log("selectedLevel is "+M),t.showLevel()}),P.on("click",function(){z?t.navigate("Down"):_.hasClass("second-view__part1")?t.showSecondStack():_.hasClass("second-view__part2")&&t.showThirdStack()}),U.on("click",function(){z?t.navigate("Up"):_.hasClass("second-view__part3")?t.showSecondStack():_.hasClass("second-view__part2")&&t.showFirstStack()}),D.on("click",function(){t.showStackedLevels(),t.navigateToSecondView()}),q.on("click",function(e){e.stopPropagation(),$(".second-view").addClass("expanded-view-with-detail"),t.navigateToThirdView()})}function t(){}function s(e){E=$("."+e).find(".popover").addClass("first-view-popovers"),T.each(function(e){$(this).attr("id","link"+e)}),E.each(function(e){$(this).attr("id","popover"+e)})}var i,a,o,l,n,c,d,r,v,p,h,u,f,b,w,C,m,k,g,_,x,T,S,F,y,L,V,P,U,D,M,N,z,A,E,I,O,j,q;$(document).ready(e)}(jQuery);